{"version":3,"file":"link-checkout.js","mappings":"qBAeAA,EAAOC,QAfP,SAAyBC,EAAKC,EAAKC,GAYjC,OAXID,KAAOD,EACTG,OAAOC,eAAeJ,EAAKC,EAAK,CAC9BC,MAAOA,EACPG,YAAY,EACZC,cAAc,EACdC,UAAU,IAGZP,EAAIC,GAAOC,EAGNF,I,QCNTF,EAAOC,QANP,SAAgCC,GAC9B,OAAOA,GAAOA,EAAIQ,WAAaR,EAAM,CACnC,QAAWA,K,qBCFfF,EAAOC,QAAUU,OAAe,SCC5BC,EAA2B,GAG/B,SAASC,EAAoBC,GAE5B,IAAIC,EAAeH,EAAyBE,GAC5C,QAAqBE,IAAjBD,EACH,OAAOA,EAAad,QAGrB,IAAID,EAASY,EAAyBE,GAAY,CAGjDb,QAAS,IAOV,OAHAgB,EAAoBH,GAAUd,EAAQA,EAAOC,QAASY,GAG/Cb,EAAOC,Q,+BCrBf,Y,4kBAEA,cAAE,WACE,GAA2B,cAAvBiB,mBACA,OAAO,EAEX,IACI,IAAMC,EAAaC,UAAUC,YAEvBC,EADSH,EAAWI,OACNC,kBAAkBL,EAAWM,WAEjD,aAAEC,SAASC,MAAMC,GAAG,QAAS,0BAA0B,SAACC,GACpDP,EAAKQ,OAAO,CAACC,MAAOF,EAAEG,cAAc5B,WAGpCc,mBAAmBe,YACnBX,EAAKQ,OAAO,CAACC,OAAO,aAAE,0BAA0BG,QAGpDZ,EAAKM,GAAG,YAAY,SAACO,GAAU,MACsBA,EAAM/B,MAD5B,IACpBgC,gBAAAA,OADoB,MACF,KADE,EACIC,EADJ,EACIA,eAE/B,GAAID,EAAiB,CACjB,IAAME,EAAU,EAAH,CAAIC,KAAMH,EAAgBG,MAASH,EAAgBE,SAChEnB,EAAWqB,yBAAyBF,GAExC,GAAID,EAAgB,CAChB,IAAMC,EAAU,EAAH,CAAIC,KAAMF,EAAeE,MAASF,EAAeC,SAC9DnB,EAAWsB,wBAAwBH,GAEvCnB,EAAWuB,OAAOC,eAClBxB,EAAWyB,mBAAmBzB,EAAW0B,YACzC1B,EAAW2B,0BACX3B,EAAW4B,iBACPX,GACAjB,EAAW6B,+BAEf,aAAE,kBAAkBC,KAAK,WAAW,GAC/B9B,EAAWuB,OAAOQ,SAAS,kBAAqB/B,EAAWuB,OAAOS,QAAQ,kBAC3EhC,EAAWiC,WAAWC,QAAQ,aAGxC,MAAOC,GACLC,QAAQC,IAAIF,Q","sources":["webpack://woo-stripe-payment/./node_modules/@babel/runtime/helpers/defineProperty.js","webpack://woo-stripe-payment/./node_modules/@babel/runtime/helpers/interopRequireDefault.js","webpack://woo-stripe-payment/external window \"jQuery\"","webpack://woo-stripe-payment/webpack/bootstrap","webpack://woo-stripe-payment/./assets/js/frontend/link-checkout.js"],"sourcesContent":["function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nmodule.exports = _defineProperty;","function _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\n\nmodule.exports = _interopRequireDefault;","module.exports = window[\"jQuery\"];","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","import $ from 'jquery';\r\n\r\n$(() => {\r\n    if (wcStripeLinkParams === 'undefined') {\r\n        return false;\r\n    }\r\n    try {\r\n        const creditCard = wc_stripe.credit_card;\r\n        const stripe = creditCard.stripe;\r\n        const link = stripe.linkAutofillModal(creditCard.elements);\r\n\r\n        $(document.body).on('keyup', '[name=\"billing_email\"]', (e) => {\r\n            link.launch({email: e.currentTarget.value});\r\n        });\r\n\r\n        if (wcStripeLinkParams.launchLink) {\r\n            link.launch({email: $('[name=\"billing_email\"]').val()});\r\n        }\r\n\r\n        link.on('autofill', (event) => {\r\n            const {shippingAddress = null, billingAddress} = event.value;\r\n            // populate the address fields\r\n            if (shippingAddress) {\r\n                const address = {name: shippingAddress.name, ...shippingAddress.address};\r\n                creditCard.populate_shipping_fields(address);\r\n            }\r\n            if (billingAddress) {\r\n                const address = {name: billingAddress.name, ...billingAddress.address};\r\n                creditCard.populate_billing_fields(address);\r\n            }\r\n            creditCard.fields.toFormFields();\r\n            creditCard.set_payment_method(creditCard.gateway_id);\r\n            creditCard.show_new_payment_method();\r\n            creditCard.hide_save_card();\r\n            if (shippingAddress) {\r\n                creditCard.maybe_set_ship_to_different();\r\n            }\r\n            $('[name=\"terms\"]').prop('checked', true);\r\n            if (!creditCard.fields.required('billing_phone') || !creditCard.fields.isEmpty('billing_phone')) {\r\n                creditCard.get_form().trigger('submit');\r\n            }\r\n        });\r\n    } catch (error) {\r\n        console.log(error);\r\n    }\r\n});"],"names":["module","exports","obj","key","value","Object","defineProperty","enumerable","configurable","writable","__esModule","window","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","__webpack_modules__","wcStripeLinkParams","creditCard","wc_stripe","credit_card","link","stripe","linkAutofillModal","elements","document","body","on","e","launch","email","currentTarget","launchLink","val","event","shippingAddress","billingAddress","address","name","populate_shipping_fields","populate_billing_fields","fields","toFormFields","set_payment_method","gateway_id","show_new_payment_method","hide_save_card","maybe_set_ship_to_different","prop","required","isEmpty","get_form","trigger","error","console","log"],"sourceRoot":""}